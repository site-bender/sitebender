/*++
 + TextField component example
 + Demonstrates form field styling with state management
 */

/*++ Tier 3 component properties - defined in :root for easy theming */
:root {
	/* Colors - SPECIFIC for easy branding */
	--bend-text-field-label-text-color: var(--color-text);
	--bend-text-field-input-background-color: var(--color-background);
	--bend-text-field-input-text-color: var(--color-text);
	--bend-text-field-input-border-color: var(--color-text-muted);
	--bend-text-field-focus-border-color: var(--color-link);
	--bend-text-field-focus-outline-color: var(--focus-color);
	--bend-text-field-valid-border-color: var(--color-success);
	--bend-text-field-invalid-border-color: var(--color-error);
	--bend-text-field-help-text-color: var(--color-text-muted);
	--bend-text-field-error-text-color: var(--color-error);
	--bend-text-field-disabled-background-color: var(--color-background-alt);
	--bend-text-field-print-border-color: #000;

	/* Shorthand properties - composite values */
	--bend-text-field-container-margin: 0 0 1.5rem 0;
	--bend-text-field-label-margin: 0 0 0.5rem 0;
	--bend-text-field-label-font: 600 1rem var(--font-body);
	--bend-text-field-input-margin: 0;
	--bend-text-field-input-padding: 1rem;
	--bend-text-field-input-border: 0.0625rem solid var(--bend-text-field-input-border-color);
	--bend-text-field-input-border-radius: 0.25rem;
	--bend-text-field-input-font: 1rem/1.5 var(--font-body);
	--bend-text-field-focus-outline: 0.125rem solid var(--bend-text-field-focus-outline-color);
	--bend-text-field-focus-outline-offset: 0.125rem;
	--bend-text-field-invalid-border: 0.125rem solid var(--bend-text-field-invalid-border-color);
	--bend-text-field-help-margin: 0.25rem 0 0 0;
	--bend-text-field-help-font: 0.875rem/1.4 var(--font-body);
	--bend-text-field-disabled-opacity: 0.6;
	--bend-text-field-transition: border-color 0.2s ease;
	--bend-text-field-print-border: none none 0.0625rem none;
}

/*++ Base field container */
.bend-text-field {
	/* Display */
	display: block;

	/* Box Model - IE11 fallback */
	margin: 0 0 1.5rem 0;

	/* Modern override */
	margin: var(--bend-text-field-container-margin);
}

/*++ Label styles */
.bend-text-field label {
	/* Display */
	display: block;

	/* Box Model - IE11 fallback */
	margin: 0 0 0.5rem 0;

	/* Typography - IE11 fallback */
	font-weight: 600;
	font-size: 1rem;
	color: #212529;

	/* Modern overrides */
	margin: var(--bend-text-field-label-margin);
	font: var(--bend-text-field-label-font);
	color: var(--bend-text-field-label-text-color);
}

/*++ Input styles */
.bend-text-field input[type="text"],
.bend-text-field input[type="email"],
.bend-text-field input[type="password"],
.bend-text-field input[type="tel"],
.bend-text-field input[type="url"],
.bend-text-field textarea {
	/* Display */
	display: block;
	width: 100%;

	/* Box Model - IE11 fallback */
	margin: 0;
	padding: 1rem;
	min-height: 3rem; /* WCAG 2.5.5 touch target */
	border: 0.0625rem solid #6c757d;

	/* Typography - IE11 fallback */
	font-family: system-ui, sans-serif;
	font-size: 1rem;
	line-height: 1.5;
	background-color: #fff;
	color: #212529;

	/* Modern overrides */
	margin: var(--bend-text-field-input-margin);
	padding: var(--bend-text-field-input-padding);
	border: var(--bend-text-field-input-border);
	background-color: var(--bend-text-field-input-background-color);
	color: var(--bend-text-field-input-text-color);
	font: var(--bend-text-field-input-font);
}

/*++ Progressive enhancement: border-radius */
@supports (border-radius: 0.25rem) {
	.bend-text-field input,
	.bend-text-field textarea {
		border-radius: var(--bend-text-field-input-border-radius);
	}
}

/*++ Focus state */
.bend-text-field input:focus,
.bend-text-field textarea:focus {
	border-color: var(--bend-text-field-focus-border-color);
	outline: var(--bend-text-field-focus-outline);
	outline-offset: var(--bend-text-field-focus-outline-offset);
}

/*++ Valid state (using data attribute for explicit control) */
.bend-text-field input[data-touched]:valid,
.bend-text-field textarea[data-touched]:valid {
	border-color: var(--bend-text-field-valid-border-color);
}

/*++ Invalid state (using data attribute for explicit control) */
.bend-text-field input[data-touched]:invalid,
.bend-text-field textarea[data-touched]:invalid {
	border: var(--bend-text-field-invalid-border);
}

/*++ Help text */
.bend-text-field .help {
	/* Display */
	display: block;

	/* Box Model - IE11 fallback */
	margin: 0.25rem 0 0 0;

	/* Typography - IE11 fallback */
	font-size: 0.875rem;
	line-height: 1.4;
	color: #6c757d;

	/* Modern overrides */
	margin: var(--bend-text-field-help-margin);
	font: var(--bend-text-field-help-font);
	color: var(--bend-text-field-help-text-color);
}

/*++ Error message (using data attribute for state management) */
.bend-text-field[data-error] .help {
	color: var(--bend-text-field-error-text-color);
}

/*++ Disabled state */
.bend-text-field input:disabled,
.bend-text-field textarea:disabled {
	/* IE11 fallback */
	background-color: #f8f9fa;
	cursor: not-allowed;
	opacity: 0.6;

	/* Modern override */
	background-color: var(--bend-text-field-disabled-background-color);
	opacity: var(--bend-text-field-disabled-opacity);
}

/*++ Transition for smooth focus */
@supports (transition: all 0.2s) {
	.bend-text-field input,
	.bend-text-field textarea {
		transition: var(--bend-text-field-transition);
	}
}

/*++ Accessibility: Reduced motion (WCAG 2.3.3) */
@media (prefers-reduced-motion: reduce) {
	@supports (transition: all 0.2s) {
		.bend-text-field input,
		.bend-text-field textarea {
			transition: none;
		}
	}
}

/*++ Accessibility: High contrast mode */
@media (forced-colors: active) {
	.bend-text-field input,
	.bend-text-field textarea {
		border: 0.125rem solid ButtonText;
	}

	.bend-text-field input:focus,
	.bend-text-field textarea:focus {
		outline: 0.125rem solid Highlight;
	}
}

/*++ Print styles */
@media print {
	.bend-text-field input,
	.bend-text-field textarea {
		/* IE11 fallback - bottom border only for print */
		border: none;
		border-bottom: 0.0625rem solid #000;

		/* Modern override */
		border-bottom-color: var(--bend-text-field-print-border-color);
	}
}
