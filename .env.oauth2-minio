# oauth2-proxy env for MinIO via Authentik
OAUTH2_PROXY_PROVIDER=oidc
OAUTH2_PROXY_OIDC_ISSUER_URL=https://authentik.localhost/application/o/minio/
OAUTH2_PROXY_SSL_INSECURE_SKIP_VERIFY=false

# From Authentik Provider â†’ minio (Credentials)
OAUTH2_PROXY_CLIENT_ID=MourYxPsKP3TeCHhmX33bayBLVtfQhQV0pa74d4a
OAUTH2_PROXY_CLIENT_SECRET=UKljt0vdKcfErJMLGz07dkNWtt93S0n4kaK4KDkqw8lCrkSwlp5O7mkQ1NPAahIbC3PJkMJcPSb200yIOVdx0JP2VZioGKY44d7MJNY4ZaB2EhMkM5FhsL8MO8uTWTjm

# 32-byte cookie secret (base64 or plain 32 chars)
OAUTH2_PROXY_COOKIE_SECRET=0123456789abcdefghijklmnopqrstuv

OAUTH2_PROXY_EMAIL_DOMAINS=*
OAUTH2_PROXY_REDIRECT_URL=https://minio.localhost/oauth2/callback
OAUTH2_PROXY_SCOPE=openid email profile
OAUTH2_PROXY_USER_ID_FIELD=email
OAUTH2_PROXY_WHITELIST_DOMAINS=minio.localhost,localhost
OAUTH2_PROXY_COOKIE_SAMESITE=lax
OAUTH2_PROXY_REVERSE_PROXY=true
OAUTH2_PROXY_COOKIE_SECURE=true
OAUTH2_PROXY_SKIP_PROVIDER_BUTTON=true
OAUTH2_PROXY_PASS_AUTHORIZATION_HEADER=true
OAUTH2_PROXY_SET_AUTHORIZATION_HEADER=true
OAUTH2_PROXY_SET_XAUTHREQUEST=true
OAUTH2_PROXY_EMAIL_HEADER=X-Auth-Request-Email
OAUTH2_PROXY_PASS_USER_HEADERS=true

# Native MinIO OIDC (read by minio service):
# Using the same Authentik application as oauth2-proxy, but these must be literal values (env_file does not interpolate).
MINIO_IDENTITY_OPENID_CLIENT_ID=MourYxPsKP3TeCHhmX33bayBLVtfQhQV0pa74d4a
MINIO_IDENTITY_OPENID_CLIENT_SECRET=UKljt0vdKcfErJMLGz07dkNWtt93S0n4kaK4KDkqw8lCrkSwlp5O7mkQ1NPAahIbC3PJkMJcPSb200yIOVdx0JP2VZioGKY44d7MJNY4ZaB2EhMkM5FhsL8MO8uTWTjm

# Console OIDC must also know the client credentials
CONSOLE_IDENTITY_OPENID_CLIENT_ID=MourYxPsKP3TeCHhmX33bayBLVtfQhQV0pa74d4a
CONSOLE_IDENTITY_OPENID_CLIENT_SECRET=UKljt0vdKcfErJMLGz07dkNWtt93S0n4kaK4KDkqw8lCrkSwlp5O7mkQ1NPAahIbC3PJkMJcPSb200yIOVdx0JP2VZioGKY44d7MJNY4ZaB2EhMkM5FhsL8MO8uTWTjm
